<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 10: Heaps - Language Comparison | ATP Course</title>
    
    <!-- Highlight.js -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/github-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/c.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/languages/python.min.js"></script>
    
    <style>
        :root {
            --bg-primary: #0d1117;
            --bg-secondary: #161b22;
            --bg-tertiary: #21262d;
            --text-primary: #e6edf3;
            --text-secondary: #8b949e;
            --accent-blue: #58a6ff;
            --accent-green: #3fb950;
            --accent-yellow: #d29922;
            --accent-red: #f85149;
            --accent-purple: #a371f7;
            --accent-orange: #f0883e;
            --border-color: #30363d;
            --pseudocode-bg: #1c2128;
            --c-bg: #0d1117;
            --python-bg: #0a1628;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        html, body {
            height: 100%;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif;
            background-color: var(--bg-primary);
            color: var(--text-primary);
            overflow: hidden;
        }

        .progress-bar {
            position: fixed;
            top: 0;
            left: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--accent-yellow), var(--accent-orange));
            transition: width 0.3s ease;
            z-index: 1000;
        }

        .slides-container {
            width: 100%;
            height: 100%;
            position: relative;
        }

        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            padding: 50px 60px;
            display: none;
            opacity: 0;
            transition: opacity 0.4s ease;
            overflow-y: auto;
        }

        .slide.active {
            display: block;
            opacity: 1;
        }

        h1 {
            font-size: 2.5rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        h2 {
            font-size: 1.8rem;
            font-weight: 600;
            color: var(--accent-blue);
            margin-bottom: 1.5rem;
            padding-bottom: 0.5rem;
            border-bottom: 2px solid var(--border-color);
        }

        h3 {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        p {
            font-size: 1.1rem;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        .subtitle {
            font-size: 1.2rem;
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }

        /* Three-column layout */
        .three-columns {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 1rem;
            margin: 1rem 0;
            height: calc(100% - 120px);
        }

        .column {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }

        .column.pseudocode {
            border-top: 3px solid var(--accent-yellow);
        }

        .column.c-lang {
            border-top: 3px solid var(--accent-blue);
        }

        .column.python {
            border-top: 3px solid var(--accent-green);
        }

        .column-header {
            padding: 10px 15px;
            background: var(--bg-tertiary);
            border-bottom: 1px solid var(--border-color);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .column-header .icon {
            font-size: 1.3rem;
        }

        .column-header h3 {
            margin: 0;
            font-size: 1rem;
        }

        .column-content {
            padding: 15px;
            flex: 1;
            overflow-y: auto;
        }

        pre {
            margin: 0;
            font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
            font-size: 0.85rem;
            line-height: 1.5;
            white-space: pre-wrap;
            word-wrap: break-word;
        }

        code {
            font-family: 'SF Mono', 'Fira Code', 'Consolas', monospace;
        }

        .pseudocode-text {
            color: var(--accent-yellow);
            font-family: 'SF Mono', monospace;
            font-size: 0.9rem;
            line-height: 1.6;
        }

        .keyword {
            color: var(--accent-purple);
            font-weight: bold;
        }

        .comment {
            color: var(--text-secondary);
            font-style: italic;
        }

        /* Title slide */
        .title-slide {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            text-align: center;
        }

        .title-slide h1 {
            font-size: 2.8rem;
            background: linear-gradient(90deg, var(--accent-yellow), var(--accent-orange));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .week-badge {
            display: inline-block;
            background: var(--accent-orange);
            color: white;
            padding: 8px 24px;
            border-radius: 20px;
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        /* Navigation */
        .nav-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            display: flex;
            gap: 10px;
            z-index: 100;
        }

        .nav-btn {
            background: var(--bg-tertiary);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 1rem;
            transition: all 0.2s ease;
        }

        .nav-btn:hover {
            background: var(--accent-orange);
            border-color: var(--accent-orange);
        }

        .slide-counter {
            position: fixed;
            bottom: 25px;
            left: 30px;
            font-size: 1rem;
            color: var(--text-secondary);
            z-index: 100;
        }

        /* Tables */
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 1rem 0;
            font-size: 0.95rem;
        }

        th, td {
            padding: 10px 12px;
            text-align: left;
            border: 1px solid var(--border-color);
        }

        th {
            background: var(--bg-tertiary);
            color: var(--accent-blue);
            font-weight: 600;
        }

        tr:nth-child(even) {
            background: var(--bg-secondary);
        }

        /* Info boxes */
        .info-box {
            background: var(--bg-secondary);
            border-left: 4px solid var(--accent-blue);
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 8px 8px 0;
        }

        .highlight-yellow { color: var(--accent-yellow); }
        .highlight-blue { color: var(--accent-blue); }
        .highlight-green { color: var(--accent-green); }
        .highlight-purple { color: var(--accent-purple); }

        .language-icons {
            display: flex;
            justify-content: center;
            gap: 3rem;
            margin: 2rem 0;
        }

        .lang-icon {
            text-align: center;
        }

        .lang-icon .emoji {
            font-size: 3rem;
            display: block;
            margin-bottom: 0.5rem;
        }

        .lang-icon .name {
            font-size: 1.1rem;
            color: var(--text-secondary);
        }

        ul {
            margin-left: 1.5rem;
            line-height: 1.8;
        }

        li {
            margin-bottom: 0.3rem;
        }

        .two-columns {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
        }

        .card {
            background: var(--bg-secondary);
            border: 1px solid var(--border-color);
            border-radius: 8px;
            padding: 1.5rem;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .slide.active > * {
            animation: fadeIn 0.4s ease forwards;
        }
    </style>
</head>
<body>
    <div class="progress-bar" id="progressBar"></div>

    <div class="slides-container">
        
        <!-- ============================================================
             SLIDE 1: Title
             ============================================================ -->
        <div class="slide title-slide active" data-slide="1">
            <div class="week-badge">Week 10 - Comparative</div>
            <h1>Heaps Across Languages</h1>
            <p class="subtitle">Pseudocode ‚Üí C ‚Üí Python</p>
            
            <div class="language-icons">
                <div class="lang-icon">
                    <span class="emoji">üìù</span>
                    <span class="name">Pseudocode</span>
                </div>
                <div class="lang-icon">
                    <span class="emoji">‚öôÔ∏è</span>
                    <span class="name">C</span>
                </div>
                <div class="lang-icon">
                    <span class="emoji">üêç</span>
                    <span class="name">Python</span>
                </div>
            </div>
            
            <p style="color: var(--text-secondary); margin-top: 1rem;">
                Algorithms and Programming Techniques<br>
                Academy of Economic Studies, Bucharest
            </p>
        </div>

        <!-- ============================================================
             SLIDE 2: Why Compare?
             ============================================================ -->
        <div class="slide" data-slide="2">
            <h2>ü§î Why Compare Languages?</h2>
            
            <div class="two-columns">
                <div class="card">
                    <h3>üìù Pseudocode</h3>
                    <ul>
                        <li>Language-independent algorithm description</li>
                        <li>Focus on logic, not syntax</li>
                        <li>Universal communication tool</li>
                        <li>Interview whiteboard standard</li>
                    </ul>
                </div>
                <div class="card">
                    <h3>‚öôÔ∏è C Implementation</h3>
                    <ul>
                        <li>Manual memory management</li>
                        <li>Explicit pointer manipulation</li>
                        <li>Maximum performance control</li>
                        <li>Systems programming foundation</li>
                    </ul>
                </div>
            </div>
            
            <div class="card" style="margin-top: 1rem;">
                <h3>üêç Python Reference</h3>
                <ul>
                    <li>Built-in <code>heapq</code> module</li>
                    <li>Concise, readable syntax</li>
                    <li>Rapid prototyping</li>
                    <li>Understanding high-level abstractions</li>
                </ul>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 3: Heap Structure Definition
             ============================================================ -->
        <div class="slide" data-slide="3">
            <h2>üìä Heap Structure Definition</h2>
            
            <div class="three-columns">
                <div class="column pseudocode">
                    <div class="column-header">
                        <span class="icon">üìù</span>
                        <h3>Pseudocode</h3>
                    </div>
                    <div class="column-content">
                        <pre class="pseudocode-text"><span class="keyword">STRUCTURE</span> Heap:
    data: Array of Elements
    size: Integer
    capacity: Integer
    
<span class="comment">// Navigation functions</span>
<span class="keyword">FUNCTION</span> PARENT(i):
    <span class="keyword">RETURN</span> (i - 1) / 2

<span class="keyword">FUNCTION</span> LEFT(i):
    <span class="keyword">RETURN</span> 2 * i + 1

<span class="keyword">FUNCTION</span> RIGHT(i):
    <span class="keyword">RETURN</span> 2 * i + 2</pre>
                    </div>
                </div>
                
                <div class="column c-lang">
                    <div class="column-header">
                        <span class="icon">‚öôÔ∏è</span>
                        <h3>C</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-c">typedef struct {
    int *data;
    size_t size;
    size_t capacity;
} Heap;

/* Navigation macros */
#define PARENT(i) (((i) - 1) / 2)
#define LEFT(i)   (2 * (i) + 1)
#define RIGHT(i)  (2 * (i) + 2)

/* Has children checks */
#define HAS_LEFT(h, i) \
    (LEFT(i) < (h)->size)
#define HAS_RIGHT(h, i) \
    (RIGHT(i) < (h)->size)</code></pre>
                    </div>
                </div>
                
                <div class="column python">
                    <div class="column-header">
                        <span class="icon">üêç</span>
                        <h3>Python</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-python">class Heap:
    def __init__(self):
        self.data = []
    
    @staticmethod
    def parent(i):
        return (i - 1) // 2
    
    @staticmethod
    def left(i):
        return 2 * i + 1
    
    @staticmethod
    def right(i):
        return 2 * i + 2
    
    @property
    def size(self):
        return len(self.data)</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 4: Sift-Up Operation
             ============================================================ -->
        <div class="slide" data-slide="4">
            <h2>‚¨ÜÔ∏è Sift-Up (Bubble Up)</h2>
            
            <div class="three-columns">
                <div class="column pseudocode">
                    <div class="column-header">
                        <span class="icon">üìù</span>
                        <h3>Pseudocode</h3>
                    </div>
                    <div class="column-content">
                        <pre class="pseudocode-text"><span class="keyword">PROCEDURE</span> SIFT_UP(A, i):
    <span class="keyword">WHILE</span> i > 0:
        parent ‚Üê PARENT(i)
        
        <span class="keyword">IF</span> A[i] ‚â§ A[parent]:
            <span class="keyword">BREAK</span>  <span class="comment">// Heap OK</span>
        
        <span class="comment">// Swap with parent</span>
        SWAP(A[i], A[parent])
        
        i ‚Üê parent
    <span class="keyword">END WHILE</span></pre>
                    </div>
                </div>
                
                <div class="column c-lang">
                    <div class="column-header">
                        <span class="icon">‚öôÔ∏è</span>
                        <h3>C</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-c">void sift_up(Heap *h, size_t i) {
    while (i > 0) {
        size_t parent = PARENT(i);
        
        if (h->data[i] <= h->data[parent])
            break;
        
        /* Swap */
        int temp = h->data[i];
        h->data[i] = h->data[parent];
        h->data[parent] = temp;
        
        i = parent;
    }
}</code></pre>
                    </div>
                </div>
                
                <div class="column python">
                    <div class="column-header">
                        <span class="icon">üêç</span>
                        <h3>Python</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-python">def sift_up(self, i):
    while i > 0:
        parent = self.parent(i)
        
        if self.data[i] <= self.data[parent]:
            break
        
        # Pythonic swap
        self.data[i], self.data[parent] = \
            self.data[parent], self.data[i]
        
        i = parent

# Using heapq (min-heap):
import heapq
# heapq._siftdown handles this
# internally after heappush</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 5: Sift-Down Operation
             ============================================================ -->
        <div class="slide" data-slide="5">
            <h2>‚¨áÔ∏è Sift-Down (Heapify)</h2>
            
            <div class="three-columns">
                <div class="column pseudocode">
                    <div class="column-header">
                        <span class="icon">üìù</span>
                        <h3>Pseudocode</h3>
                    </div>
                    <div class="column-content">
                        <pre class="pseudocode-text"><span class="keyword">PROCEDURE</span> SIFT_DOWN(A, n, i):
    <span class="keyword">LOOP</span>:
        largest ‚Üê i
        left ‚Üê LEFT(i)
        right ‚Üê RIGHT(i)
        
        <span class="keyword">IF</span> left < n <span class="keyword">AND</span> A[left] > A[largest]:
            largest ‚Üê left
        
        <span class="keyword">IF</span> right < n <span class="keyword">AND</span> A[right] > A[largest]:
            largest ‚Üê right
        
        <span class="keyword">IF</span> largest = i:
            <span class="keyword">BREAK</span>
        
        SWAP(A[i], A[largest])
        i ‚Üê largest
    <span class="keyword">END LOOP</span></pre>
                    </div>
                </div>
                
                <div class="column c-lang">
                    <div class="column-header">
                        <span class="icon">‚öôÔ∏è</span>
                        <h3>C</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-c">void sift_down(int *arr, size_t n, 
               size_t i) {
    while (1) {
        size_t largest = i;
        size_t left = LEFT(i);
        size_t right = RIGHT(i);
        
        if (left < n && 
            arr[left] > arr[largest])
            largest = left;
        
        if (right < n && 
            arr[right] > arr[largest])
            largest = right;
        
        if (largest == i)
            break;
        
        /* Swap */
        int temp = arr[i];
        arr[i] = arr[largest];
        arr[largest] = temp;
        
        i = largest;
    }
}</code></pre>
                    </div>
                </div>
                
                <div class="column python">
                    <div class="column-header">
                        <span class="icon">üêç</span>
                        <h3>Python</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-python">def sift_down(self, i):
    n = len(self.data)
    while True:
        largest = i
        left = self.left(i)
        right = self.right(i)
        
        if (left < n and 
            self.data[left] > self.data[largest]):
            largest = left
        
        if (right < n and 
            self.data[right] > self.data[largest]):
            largest = right
        
        if largest == i:
            break
        
        self.data[i], self.data[largest] = \
            self.data[largest], self.data[i]
        
        i = largest</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 6: Insert Operation
             ============================================================ -->
        <div class="slide" data-slide="6">
            <h2>‚ûï Insert Operation</h2>
            
            <div class="three-columns">
                <div class="column pseudocode">
                    <div class="column-header">
                        <span class="icon">üìù</span>
                        <h3>Pseudocode</h3>
                    </div>
                    <div class="column-content">
                        <pre class="pseudocode-text"><span class="keyword">PROCEDURE</span> INSERT(H, value):
    <span class="comment">// Resize if needed</span>
    <span class="keyword">IF</span> H.size = H.capacity:
        RESIZE(H, H.capacity √ó 2)
    
    <span class="comment">// Add at end</span>
    H.data[H.size] ‚Üê value
    H.size ‚Üê H.size + 1
    
    <span class="comment">// Restore heap property</span>
    SIFT_UP(H.data, H.size - 1)</pre>
                    </div>
                </div>
                
                <div class="column c-lang">
                    <div class="column-header">
                        <span class="icon">‚öôÔ∏è</span>
                        <h3>C</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-c">int heap_insert(Heap *h, int value) {
    /* Resize if needed */
    if (h->size >= h->capacity) {
        size_t new_cap = h->capacity * 2;
        int *new_data = realloc(
            h->data, 
            new_cap * sizeof(int));
        if (!new_data)
            return 0;  /* Failed */
        h->data = new_data;
        h->capacity = new_cap;
    }
    
    /* Add at end */
    h->data[h->size] = value;
    h->size++;
    
    /* Restore heap */
    sift_up(h, h->size - 1);
    
    return 1;  /* Success */
}</code></pre>
                    </div>
                </div>
                
                <div class="column python">
                    <div class="column-header">
                        <span class="icon">üêç</span>
                        <h3>Python</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-python"># Custom class method
def insert(self, value):
    self.data.append(value)
    self.sift_up(len(self.data) - 1)

# Using heapq module (min-heap)
import heapq

heap = []
heapq.heappush(heap, 5)
heapq.heappush(heap, 3)
heapq.heappush(heap, 7)

# For max-heap, negate values:
max_heap = []
heapq.heappush(max_heap, -5)
heapq.heappush(max_heap, -3)
# Access max: -max_heap[0]</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 7: Extract Operation
             ============================================================ -->
        <div class="slide" data-slide="7">
            <h2>‚ûñ Extract Max/Min</h2>
            
            <div class="three-columns">
                <div class="column pseudocode">
                    <div class="column-header">
                        <span class="icon">üìù</span>
                        <h3>Pseudocode</h3>
                    </div>
                    <div class="column-content">
                        <pre class="pseudocode-text"><span class="keyword">FUNCTION</span> EXTRACT_MAX(H):
    <span class="keyword">IF</span> H.size = 0:
        <span class="keyword">ERROR</span> "Empty heap"
    
    <span class="comment">// Save maximum</span>
    max_value ‚Üê H.data[0]
    
    <span class="comment">// Move last to root</span>
    H.data[0] ‚Üê H.data[H.size - 1]
    H.size ‚Üê H.size - 1
    
    <span class="comment">// Restore heap property</span>
    <span class="keyword">IF</span> H.size > 0:
        SIFT_DOWN(H.data, H.size, 0)
    
    <span class="keyword">RETURN</span> max_value</pre>
                    </div>
                </div>
                
                <div class="column c-lang">
                    <div class="column-header">
                        <span class="icon">‚öôÔ∏è</span>
                        <h3>C</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-c">int heap_extract_max(Heap *h, 
                      int *value) {
    if (h->size == 0)
        return 0;  /* Empty */
    
    /* Save max */
    *value = h->data[0];
    
    /* Move last to root */
    h->data[0] = h->data[h->size - 1];
    h->size--;
    
    /* Restore heap */
    if (h->size > 0)
        sift_down(h->data, h->size, 0);
    
    return 1;  /* Success */
}

/* Usage */
int max;
if (heap_extract_max(&h, &max)) {
    printf("Max: %d\n", max);
}</code></pre>
                    </div>
                </div>
                
                <div class="column python">
                    <div class="column-header">
                        <span class="icon">üêç</span>
                        <h3>Python</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-python"># Custom class method
def extract_max(self):
    if not self.data:
        raise IndexError("Empty heap")
    
    max_val = self.data[0]
    self.data[0] = self.data[-1]
    self.data.pop()
    
    if self.data:
        self.sift_down(0)
    
    return max_val

# Using heapq (extracts min)
import heapq

heap = [1, 3, 5, 7, 9]
heapq.heapify(heap)

min_val = heapq.heappop(heap)

# heapreplace: pop then push
val = heapq.heapreplace(heap, 4)</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 8: Build Heap (Floyd's Algorithm)
             ============================================================ -->
        <div class="slide" data-slide="8">
            <h2>üèóÔ∏è Build Heap - Floyd's Algorithm</h2>
            
            <div class="three-columns">
                <div class="column pseudocode">
                    <div class="column-header">
                        <span class="icon">üìù</span>
                        <h3>Pseudocode</h3>
                    </div>
                    <div class="column-content">
                        <pre class="pseudocode-text"><span class="keyword">PROCEDURE</span> BUILD_MAX_HEAP(A, n):
    <span class="comment">// Leaves are already heaps</span>
    <span class="comment">// Start from last internal node</span>
    
    <span class="keyword">FOR</span> i ‚Üê (n / 2 - 1) <span class="keyword">DOWNTO</span> 0:
        SIFT_DOWN(A, n, i)
    <span class="keyword">END FOR</span>

<span class="comment">// Complexity: O(n)
// Not O(n log n)!
// Most nodes near bottom
// with small sift distances</span></pre>
                    </div>
                </div>
                
                <div class="column c-lang">
                    <div class="column-header">
                        <span class="icon">‚öôÔ∏è</span>
                        <h3>C</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-c">void build_max_heap(int *arr, 
                    size_t n) {
    /* Last internal node index */
    /* = parent of last element */
    
    for (int i = n / 2 - 1; i >= 0; i--) {
        sift_down(arr, n, (size_t)i);
    }
}

/* In-place heapification */
void heap_from_array(Heap *h, 
                     int *arr, 
                     size_t n) {
    h->data = arr;
    h->size = n;
    h->capacity = n;
    
    build_max_heap(h->data, h->size);
}</code></pre>
                    </div>
                </div>
                
                <div class="column python">
                    <div class="column-header">
                        <span class="icon">üêç</span>
                        <h3>Python</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-python"># Custom implementation
def build_heap(self, arr):
    self.data = arr[:]  # Copy
    n = len(self.data)
    
    for i in range(n // 2 - 1, -1, -1):
        self.sift_down(i)

# Using heapq - one function call!
import heapq

data = [4, 1, 3, 2, 16, 9, 10]
heapq.heapify(data)  # In-place!
# data is now a valid min-heap

# heapify is O(n), not O(n log n)
# Uses Floyd's algorithm internally</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 9: Heapsort Algorithm
             ============================================================ -->
        <div class="slide" data-slide="9">
            <h2>üìà Heapsort Algorithm</h2>
            
            <div class="three-columns">
                <div class="column pseudocode">
                    <div class="column-header">
                        <span class="icon">üìù</span>
                        <h3>Pseudocode</h3>
                    </div>
                    <div class="column-content">
                        <pre class="pseudocode-text"><span class="keyword">PROCEDURE</span> HEAPSORT(A, n):
    <span class="comment">// Phase 1: Build heap</span>
    BUILD_MAX_HEAP(A, n)
    
    <span class="comment">// Phase 2: Extract all</span>
    <span class="keyword">FOR</span> i ‚Üê n - 1 <span class="keyword">DOWNTO</span> 1:
        <span class="comment">// Move max to end</span>
        SWAP(A[0], A[i])
        
        <span class="comment">// Heap shrinks, sorted grows</span>
        SIFT_DOWN(A, i, 0)
    <span class="keyword">END FOR</span>

<span class="comment">// Result: A sorted ascending
// [heap|sorted] ‚Üí [|sorted]
// In-place, O(n log n)</span></pre>
                    </div>
                </div>
                
                <div class="column c-lang">
                    <div class="column-header">
                        <span class="icon">‚öôÔ∏è</span>
                        <h3>C</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-c">void heapsort(int *arr, size_t n) {
    /* Phase 1: O(n) */
    build_max_heap(arr, n);
    
    /* Phase 2: O(n log n) */
    for (size_t i = n - 1; i > 0; i--) {
        /* Swap root with end */
        int temp = arr[0];
        arr[0] = arr[i];
        arr[i] = temp;
        
        /* Restore on smaller heap */
        sift_down(arr, i, 0);
    }
}

/* Usage */
int data[] = {4, 10, 3, 5, 1};
heapsort(data, 5);
/* data = {1, 3, 4, 5, 10} */</code></pre>
                    </div>
                </div>
                
                <div class="column python">
                    <div class="column-header">
                        <span class="icon">üêç</span>
                        <h3>Python</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-python"># Custom heapsort
def heapsort(arr):
    n = len(arr)
    
    # Build max-heap
    for i in range(n // 2 - 1, -1, -1):
        sift_down(arr, n, i)
    
    # Extract elements
    for i in range(n - 1, 0, -1):
        arr[0], arr[i] = arr[i], arr[0]
        sift_down(arr, i, 0)

# Using heapq (returns new list)
import heapq

def heapsort_pythonic(arr):
    heap = arr[:]
    heapq.heapify(heap)
    return [heapq.heappop(heap) 
            for _ in range(len(heap))]</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 10: Priority Queue Usage
             ============================================================ -->
        <div class="slide" data-slide="10">
            <h2>üì¶ Priority Queue - Practical Usage</h2>
            
            <div class="three-columns">
                <div class="column pseudocode">
                    <div class="column-header">
                        <span class="icon">üìù</span>
                        <h3>Pseudocode</h3>
                    </div>
                    <div class="column-content">
                        <pre class="pseudocode-text"><span class="comment">// Task scheduling example</span>

<span class="keyword">STRUCTURE</span> Task:
    priority: Integer
    name: String

<span class="comment">// Create priority queue</span>
pq ‚Üê NEW PriorityQueue()

<span class="comment">// Add tasks</span>
pq.INSERT(Task(3, "Email"))
pq.INSERT(Task(1, "Lunch"))
pq.INSERT(Task(5, "Meeting"))

<span class="comment">// Process by priority</span>
<span class="keyword">WHILE NOT</span> pq.IS_EMPTY():
    task ‚Üê pq.EXTRACT_MAX()
    PROCESS(task)
<span class="keyword">END WHILE</span>

<span class="comment">// Order: Meeting, Email, Lunch</span></pre>
                    </div>
                </div>
                
                <div class="column c-lang">
                    <div class="column-header">
                        <span class="icon">‚öôÔ∏è</span>
                        <h3>C</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-c">typedef struct {
    int priority;
    char name[32];
} Task;

int cmp_task(const void *a, 
             const void *b) {
    const Task *ta = a;
    const Task *tb = b;
    return ta->priority - tb->priority;
}

/* Usage with generic PQ */
PQueue *pq = pq_create(10, 
    sizeof(Task), cmp_task);

Task t1 = {3, "Email"};
Task t2 = {1, "Lunch"};
Task t3 = {5, "Meeting"};

pq_insert(pq, &t1);
pq_insert(pq, &t2);
pq_insert(pq, &t3);

Task current;
while (pq_extract(pq, &current)) {
    printf("%s\n", current.name);
}</code></pre>
                    </div>
                </div>
                
                <div class="column python">
                    <div class="column-header">
                        <span class="icon">üêç</span>
                        <h3>Python</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-python">import heapq
from dataclasses import dataclass

@dataclass
class Task:
    priority: int
    name: str
    
    def __lt__(self, other):
        # Higher priority = more important
        return self.priority > other.priority

# Using list as heap
pq = []
heapq.heappush(pq, Task(3, "Email"))
heapq.heappush(pq, Task(1, "Lunch"))
heapq.heappush(pq, Task(5, "Meeting"))

while pq:
    task = heapq.heappop(pq)
    print(task.name)

# Alternative: queue.PriorityQueue
from queue import PriorityQueue
pq = PriorityQueue()
pq.put((5, "Meeting"))  # (priority, item)</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 11: Top-K Elements
             ============================================================ -->
        <div class="slide" data-slide="11">
            <h2>üèÜ Finding Top-K Elements</h2>
            
            <div class="three-columns">
                <div class="column pseudocode">
                    <div class="column-header">
                        <span class="icon">üìù</span>
                        <h3>Pseudocode</h3>
                    </div>
                    <div class="column-content">
                        <pre class="pseudocode-text"><span class="keyword">FUNCTION</span> TOP_K(stream, n, k):
    <span class="comment">// Min-heap of size k</span>
    heap ‚Üê NEW MinHeap()
    
    <span class="keyword">FOR EACH</span> element <span class="keyword">IN</span> stream:
        <span class="keyword">IF</span> heap.SIZE() < k:
            heap.INSERT(element)
        <span class="keyword">ELSE IF</span> element > heap.PEEK():
            heap.EXTRACT_MIN()
            heap.INSERT(element)
        <span class="keyword">END IF</span>
    <span class="keyword">END FOR</span>
    
    <span class="keyword">RETURN</span> heap <span class="comment">// Contains k largest</span>

<span class="comment">// Complexity: O(n log k)</span></pre>
                    </div>
                </div>
                
                <div class="column c-lang">
                    <div class="column-header">
                        <span class="icon">‚öôÔ∏è</span>
                        <h3>C</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-c">void top_k(int *stream, size_t n,
           int k, int *result) {
    /* Min-heap for k largest */
    Heap h;
    heap_init(&h, k);
    
    for (size_t i = 0; i < n; i++) {
        if (h.size < k) {
            heap_insert_min(&h, stream[i]);
        } else if (stream[i] > h.data[0]) {
            h.data[0] = stream[i];
            sift_down_min(h.data, h.size, 0);
        }
    }
    
    /* Copy results */
    for (int i = 0; i < k; i++) {
        result[i] = h.data[i];
    }
    
    heap_destroy(&h);
}</code></pre>
                    </div>
                </div>
                
                <div class="column python">
                    <div class="column-header">
                        <span class="icon">üêç</span>
                        <h3>Python</h3>
                    </div>
                    <div class="column-content">
                        <pre><code class="language-python">import heapq

def top_k(stream, k):
    """Find k largest elements."""
    heap = []  # min-heap
    
    for elem in stream:
        if len(heap) < k:
            heapq.heappush(heap, elem)
        elif elem > heap[0]:
            heapq.heapreplace(heap, elem)
    
    return heap

# Even simpler with nlargest!
data = [3, 1, 4, 1, 5, 9, 2, 6]
top_3 = heapq.nlargest(3, data)
# [9, 6, 5]

# Also: nsmallest
bottom_3 = heapq.nsmallest(3, data)
# [1, 1, 2]</code></pre>
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 12: Comparison Table
             ============================================================ -->
        <div class="slide" data-slide="12">
            <h2>üìä Language Comparison Summary</h2>
            
            <table>
                <tr>
                    <th>Aspect</th>
                    <th class="highlight-yellow">Pseudocode</th>
                    <th class="highlight-blue">C</th>
                    <th class="highlight-green">Python</th>
                </tr>
                <tr>
                    <td>Memory Management</td>
                    <td>Abstract</td>
                    <td>Manual (malloc/free)</td>
                    <td>Automatic (GC)</td>
                </tr>
                <tr>
                    <td>Type System</td>
                    <td>Implicit</td>
                    <td>Static, explicit</td>
                    <td>Dynamic, duck typing</td>
                </tr>
                <tr>
                    <td>Array Resizing</td>
                    <td>Assumed</td>
                    <td>Manual realloc()</td>
                    <td>Automatic (list)</td>
                </tr>
                <tr>
                    <td>Standard Library</td>
                    <td>N/A</td>
                    <td>No heap (use qsort)</td>
                    <td>heapq module</td>
                </tr>
                <tr>
                    <td>Default Heap Type</td>
                    <td>Varies</td>
                    <td>Implement both</td>
                    <td>Min-heap only</td>
                </tr>
                <tr>
                    <td>Code Length</td>
                    <td>~20 lines</td>
                    <td>~100 lines</td>
                    <td>~10 lines</td>
                </tr>
                <tr>
                    <td>Performance</td>
                    <td>N/A</td>
                    <td>Fastest</td>
                    <td>Good (C underneath)</td>
                </tr>
            </table>
        </div>

        <!-- ============================================================
             SLIDE 13: When to Use Which
             ============================================================ -->
        <div class="slide" data-slide="13">
            <h2>ü§î When to Use Which?</h2>
            
            <div class="two-columns">
                <div>
                    <div class="card">
                        <h3 class="highlight-yellow">üìù Use Pseudocode When:</h3>
                        <ul>
                            <li>Designing algorithms on paper</li>
                            <li>Communicating in interviews</li>
                            <li>Teaching concepts</li>
                            <li>Writing academic papers</li>
                            <li>Language-agnostic documentation</li>
                        </ul>
                    </div>
                    
                    <div class="card" style="margin-top: 1rem;">
                        <h3 class="highlight-blue">‚öôÔ∏è Use C When:</h3>
                        <ul>
                            <li>Maximum performance required</li>
                            <li>Systems programming</li>
                            <li>Embedded systems</li>
                            <li>Learning data structure internals</li>
                            <li>Interview coding (sometimes)</li>
                        </ul>
                    </div>
                </div>
                <div>
                    <div class="card">
                        <h3 class="highlight-green">üêç Use Python When:</h3>
                        <ul>
                            <li>Rapid prototyping</li>
                            <li>Competitive programming</li>
                            <li>Data analysis pipelines</li>
                            <li>When correctness > performance</li>
                            <li>Teaching algorithm concepts</li>
                        </ul>
                    </div>
                    
                    <div class="info-box" style="margin-top: 1rem;">
                        <strong>Pro Tip:</strong> Start with pseudocode, validate logic in Python, optimise in C if needed.
                    </div>
                </div>
            </div>
        </div>

        <!-- ============================================================
             SLIDE 14: Key Insights
             ============================================================ -->
        <div class="slide" data-slide="14">
            <h2>üí° Key Insights</h2>
            
            <div class="two-columns">
                <div class="card">
                    <h3>Algorithm Remains the Same</h3>
                    <p>Whether pseudocode, C, or Python:</p>
                    <ul>
                        <li>Same index calculations</li>
                        <li>Same sift operations</li>
                        <li>Same O(log n) complexity</li>
                        <li>Same heap invariants</li>
                    </ul>
                    <p style="margin-top: 1rem;"><strong>The language is just syntax; the algorithm is universal.</strong></p>
                </div>
                <div class="card">
                    <h3>Implementation Details Vary</h3>
                    <ul>
                        <li><strong>C:</strong> Manual memory, explicit types</li>
                        <li><strong>Python:</strong> heapq is min-heap only</li>
                        <li><strong>C:</strong> Implement generic via void*</li>
                        <li><strong>Python:</strong> Use __lt__ for custom order</li>
                        <li><strong>Both:</strong> Same Floyd's O(n) build</li>
                    </ul>
                </div>
            </div>
            
            <div class="info-box" style="margin-top: 1rem;">
                <strong>Translation Strategy:</strong><br>
                Pseudocode ‚Üí C: Add types, memory management, bounds checking<br>
                Pseudocode ‚Üí Python: Simplify syntax, use built-in heapq where possible
            </div>
        </div>

        <!-- ============================================================
             SLIDE 15: Conclusion
             ============================================================ -->
        <div class="slide title-slide" data-slide="15">
            <h1 style="font-size: 2.8rem;">Cross-Language Mastery</h1>
            <p class="subtitle">Heaps: Same Algorithm, Different Expressions</p>
            
            <div class="language-icons" style="margin: 2rem 0;">
                <div class="lang-icon">
                    <span class="emoji">üìù</span>
                    <span class="name">Design</span>
                </div>
                <div class="lang-icon">
                    <span class="emoji">‚Üí</span>
                    <span class="name"></span>
                </div>
                <div class="lang-icon">
                    <span class="emoji">üêç</span>
                    <span class="name">Prototype</span>
                </div>
                <div class="lang-icon">
                    <span class="emoji">‚Üí</span>
                    <span class="name"></span>
                </div>
                <div class="lang-icon">
                    <span class="emoji">‚öôÔ∏è</span>
                    <span class="name">Optimise</span>
                </div>
            </div>
            
            <p style="color: var(--text-secondary);">
                Understanding heaps across languages deepens your<br>
                algorithmic intuition and makes you a more versatile programmer.
            </p>
            
            <p style="margin-top: 2rem; color: var(--text-secondary); font-size: 0.9rem;">
                Week 10 Comparative Presentation<br>
                Algorithms and Programming Techniques<br>
                Academy of Economic Studies, Bucharest
            </p>
        </div>

    </div>

    <!-- Navigation -->
    <div class="nav-container">
        <button class="nav-btn" onclick="changeSlide(-1)">‚Üê Previous</button>
        <button class="nav-btn" onclick="changeSlide(1)">Next ‚Üí</button>
    </div>

    <div class="slide-counter">
        <span id="currentSlide">1</span> / <span id="totalSlides">15</span>
    </div>

    <script>
        hljs.highlightAll();

        let currentSlide = 1;
        const totalSlides = document.querySelectorAll('.slide').length;
        document.getElementById('totalSlides').textContent = totalSlides;

        function showSlide(n) {
            const slides = document.querySelectorAll('.slide');
            if (n > totalSlides) currentSlide = 1;
            if (n < 1) currentSlide = totalSlides;
            
            slides.forEach(slide => slide.classList.remove('active'));
            slides[currentSlide - 1].classList.add('active');
            document.getElementById('currentSlide').textContent = currentSlide;
            
            const progress = (currentSlide / totalSlides) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
        }

        function changeSlide(direction) {
            currentSlide += direction;
            showSlide(currentSlide);
        }

        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ') {
                changeSlide(1);
                e.preventDefault();
            } else if (e.key === 'ArrowLeft') {
                changeSlide(-1);
                e.preventDefault();
            } else if (e.key === 'Home') {
                currentSlide = 1;
                showSlide(currentSlide);
            } else if (e.key === 'End') {
                currentSlide = totalSlides;
                showSlide(currentSlide);
            }
        });

        showSlide(currentSlide);
    </script>
</body>
</html>
